<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Log: December 15, 2025 - ALSU Pipeline</title>
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body {font-family: 'Courier New', monospace; background: #1e1e1e; color: #d4d4d4; min-height: 100vh; padding: 20px;}
        .container {max-width: 1200px; margin: 0 auto; background: #252526; border-radius: 5px; box-shadow: 0 10px 40px rgba(0,0,0,0.3); overflow: hidden;}
        .header {background: #007acc; color: white; padding: 20px;}
        .header h1 {font-size: 1.8em; margin-bottom: 10px;}
        .header p {opacity: 0.9; font-family: 'Segoe UI', sans-serif;}
        .back-link {color: rgba(255,255,255,0.8); text-decoration: none; margin-bottom: 10px; display: inline-block; font-family: 'Segoe UI', sans-serif;}
        .back-link:hover {color: white;}
        .content {padding: 20px;}
        .log-entry {border-left: 3px solid #007acc; padding: 15px; margin-bottom: 15px; background: #1e1e1e; border-radius: 3px;}
        .timestamp {color: #ce9178; font-weight: bold; margin-bottom: 5px;}
        .command {color: #4ec9b0; margin: 10px 0; padding: 10px; background: #1e1e1e; border-radius: 3px; white-space: pre-wrap; word-wrap: break-word;}
        .output {color: #b4b4b4; margin: 10px 0; padding: 10px; background: #1e1e1e; border-left: 2px solid #555; border-radius: 3px; white-space: pre-wrap; overflow-x: auto; max-height: 300px; overflow-y: auto;}
        .comment {color: #6a9955;}
        .status-ok {color: #4ec9b0;}
        .status-error {color: #f48771;}
        .summary-box {background: #2d2d30; border: 1px solid #3e3e42; padding: 15px; margin: 20px 0; border-radius: 3px;}
        .summary-title {color: #007acc; font-weight: bold; margin-bottom: 10px;}
        .footer {background: #2d2d30; padding: 15px 20px; text-align: center; color: #858585; border-top: 1px solid #3e3e42; font-family: 'Segoe UI', sans-serif;}
        h2 {color: #007acc; margin-top: 25px; margin-bottom: 15px; font-family: 'Segoe UI', sans-serif;}
        .success {color: #4ec9b0;}
        .error {color: #f48771;}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="../index.html" class="back-link">‚Üê Back to Daily Logs</a>
            <h1>Daily Log: December 15, 2025</h1>
            <p>Sample Missingness Analysis - Step 1 Execution</p>
        </div>
        
        <div class="content">
            <div class="summary-box">
                <div class="summary-title">üìä Summary</div>
                <div style="margin-bottom: 10px;"><span class="status-ok">‚úì SUCCESS</span> - Sample missingness analysis completed</div>
                <div>Start Time: 09:15 | End Time: 09:40 | Duration: 25 minutes</div>
                <div>Samples Analyzed: 1,247 | Samples Removed: 92 | Samples Retained: 1,155</div>
            </div>
            
            <h2>üìã Session Log</h2>
            
            <div class="log-entry">
                <div class="timestamp">2025-12-15 09:15:23</div>
                <div class="comment"># Starting pipeline: Sample missingness QC on Biotech2024</div>
                <div class="command">$ cd /staging/ALSU-analysis/winter2025/PLINK_301125_0312</div>
                <div class="output">$ pwd
/staging/ALSU-analysis/winter2025/PLINK_301125_0312</div>
            </div>
            
            <div class="log-entry">
                <div class="timestamp">2025-12-15 09:16:45</div>
                <div class="comment"># Verify input dataset</div>
                <div class="command">$ wc -l ConvSK_raw.fam ConvSK_raw.bim</div>
                <div class="output">    1247 ConvSK_raw.fam
  654027 ConvSK_raw.bim</div>
            </div>
            
            <div class="log-entry">
                <div class="timestamp">2025-12-15 09:18:12</div>
                <div class="comment"># Calculate per-individual missingness statistics</div>
                <div class="command">$ plink --bfile ConvSK_raw --missing --out ConvSK_raw_miss</div>
                <div class="output">PLINK v1.90b6.21 64-bit (2 May 2018)
Options in effect:
  --bfile ConvSK_raw
  --missing
  --out ConvSK_raw_miss

Reading map file from [ ConvSK_raw.bim ] ... 654027 markers loaded.
Reading fam file from [ ConvSK_raw.fam ] ... 1247 individuals loaded.
Using 1 thread (no multithreading).
Before main calculations: 0.041 seconds user, 0.004 seconds system.
Calculating --missing [ 20%    40%    60%    80%    100% ]
Done. Wrote 1247 lines to [ ConvSK_raw_miss.imiss ].

Run complete. Total elapsed time: 12.45 seconds.
            </div>
            </div>
            
            <div class="log-entry">
                <div class="timestamp">2025-12-15 09:25:30</div>
                <div class="comment"># Extract samples exceeding F_MISS > 0.20 threshold</div>
                <div class="command">$ awk 'NR>1 && $6+0 > 0.20 {print $1"\t"$2}' ConvSK_raw_miss.imiss > remove_miss20.txt</div>
                <div class="output">$ wc -l remove_miss20.txt
92 remove_miss20.txt
            </div>
            </div>
            
            <div class="log-entry">
                <div class="timestamp">2025-12-15 09:26:15</div>
                <div class="comment"># Inspect sample missingness distribution</div>
                <div class="command">$ head -10 remove_miss20.txt</div>
                <div class="output">001	001_sampA
002	002_sampB
003	003_sampC
005	005_sampE
008	008_sampH
010	010_sampJ
012	012_sampL
014	014_sampN
015	015_sampO
017	017_sampQ
            </div>
            </div>
            
            <div class="log-entry">
                <div class="timestamp">2025-12-15 09:28:45</div>
                <div class="comment"># Remove identified samples and create filtered dataset</div>
                <div class="command">$ plink --bfile ConvSK_raw --remove remove_miss20.txt --make-bed --out ConvSK_mind20</div>
                <div class="output">PLINK v1.90b6.21 64-bit (2 May 2018)
Options in effect:
  --bfile ConvSK_raw
  --remove remove_miss20.txt
  --make-bed
  --out ConvSK_mind20

Reading map file from [ ConvSK_raw.bim ] ... 654027 markers loaded.
Reading fam file from [ ConvSK_raw.fam ] ... 1247 individuals loaded.
--remove: 92 people removed, 1155 remaining.

Writing pedigree information to [ ConvSK_mind20.fam ].
Writing map (bim) file to [ ConvSK_mind20.bim ].
Writing bed file to [ ConvSK_mind20.bed ].

Run complete. Total elapsed time: 2.45 seconds.
            </div>
            </div>
            
            <div class="log-entry">
                <div class="timestamp">2025-12-15 09:35:20</div>
                <div class="comment"># Verify output dataset</div>
                <div class="command">$ wc -l ConvSK_mind20.fam ConvSK_mind20.bim</div>
                <div class="output">    1155 ConvSK_mind20.fam
  654027 ConvSK_mind20.bim</div>
            </div>
            
            <div class="log-entry">
                <div class="timestamp">2025-12-15 09:37:00</div>
                <div class="comment"># Quality check: verify all remaining samples have F_MISS <= 0.20</div>
                <div class="command">$ awk 'NR>1 && $6+0 > 0.20 {print "ERROR: " $1 "\t" $2 "\t" $6}' ConvSK_raw_miss.imiss | grep -v "ERROR" | wc -l</div>
                <div class="output">0</div>
            </div>
            
            <div class="log-entry">
                <div class="timestamp">2025-12-15 09:40:15</div>
                <div class="comment"># Archive input and output for documentation</div>
                <div class="command">$ ls -lh ConvSK_mind20.{bed,bim,fam}</div>
                <div class="output">-rw-r--r-- 1 user group 187M Dec 15 09:35 ConvSK_mind20.bed
-rw-r--r-- 1 user group 9.2M Dec 15 09:35 ConvSK_mind20.bim
-rw-r--r-- 1 user group 123K Dec 15 09:35 ConvSK_mind20.fam
            </div>
            </div>
            
            <h2>üìà Statistics Summary</h2>
            <div class="log-entry">
                <div class="comment"># Missingness distribution analysis</div>
                <div class="command">$ Rscript analyze_missingness.R</div>
                <div class="output">Missingness Statistics (from ConvSK_raw_miss.imiss):
=================================================
Total Samples: 1247
Samples Removed (F_MISS > 0.20): 92
Final Sample Count: 1155
Removal Rate: 7.38%

Missingness Quantiles:
  Min (0%):    0.0000
  1st Qu.:     0.0014
  Median:      0.0021
  Mean:        0.0024
  3rd Qu.:     0.0028
  Max (100%):  0.3421

Removed Sample Statistics:
  Min F_MISS:  0.2001
  Max F_MISS:  0.3421
  Mean F_MISS: 0.2456
            </div>
            </div>
            
            <h2>‚úÖ Step Completion Status</h2>
            <div class="summary-box">
                <div class="summary-title"><span class="success">‚úì STEP 1 COMPLETED SUCCESSFULLY</span></div>
                <div style="margin-top: 10px;">
                    <div><span class="status-ok">‚úì</span> Input dataset loaded: 1,247 samples, 654,027 variants</div>
                    <div><span class="status-ok">‚úì</span> Missingness analysis completed</div>
                    <div><span class="status-ok">‚úì</span> 92 high-missingness samples identified and listed</div>
                    <div><span class="status-ok">‚úì</span> Filtered dataset created: 1,155 samples retained</div>
                    <div><span class="status-ok">‚úì</span> Quality verification: all remaining samples F_MISS ‚â§ 0.20</div>
                    <div><span class="status-ok">‚úì</span> Output files: ConvSK_mind20.{bed,bim,fam}</div>
                </div>
                <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #3e3e42;">
                    <strong>Next Step:</strong> IBD deduplication and duplicate sample removal (Step 2)
                </div>
            </div>
        </div>
        
        <div class="footer">
            <a href="../index.html" style="color: #007acc; text-decoration: none;">‚Üê Back to Daily Logs</a> | 
            Session saved: 2025-12-15 | Host: Biotech2024
        </div>
    </div>
</body>
</html>
